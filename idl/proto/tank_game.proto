syntax = "proto3";
package tank_game;

import "proto/tank_common.proto";

enum ErrorCode {
    Ok = 0;
    Failed = 1;
}

message Ping {
    int64 ts = 1;
}

message Pong {
    int64 ts = 1;
}

//登录请求
message LoginReq {
    string name = 1;
    string id = 2;
}

//登录回复
message LoginRsp {
    ErrorCode code = 1;
    string msg = 2;
}

message PlayerApperanceNtf {
    string id = 1;
    string name = 2;
    tank_common.Transform transform = 3;
}

message PlayerStateNtf {
    string id = 1;
    int32 syncTime = 2;
    tank_common.Transform transform = 3;
}

message PlayerDisappearNtf {
    string id = 1;
}

message PlayerStateSyncReq {
    int32 delta_ms = 2;
    tank_common.Transform transform = 3;
}

message PlayerShootReq {
    tank_common.Transform transform = 1;
}

message PlayerShootNtf {
    string id = 1;
    tank_common.Transform transform = 2;
    float speed = 3;
}

message BulletDestoryNtf {
    uint32 id = 1;
    tank_common.Vector3 pos = 2;
}